---
title: 第三方登录
id: 235
categories: 第三方登陆
date: 2016-04-21 09:45:44
tags: oauth
---

&nbsp; &nbsp; &nbsp; &nbsp; 最近面试等各种事情就少了,于是静下心来学一点自己喜欢的东西 ,想起之前做过web端的租赁平台,决定把它重构一下.

&nbsp; &nbsp; &nbsp;首先做的是登录方面的重构,准备打算做一个第三方的登录授权,暂时正在做的是QQ的接入登录.

&nbsp; &nbsp; &nbsp;首先你要申请自己的网站接入,登录connect.qq.com,申请网站应用的接入,这里接入的时候一定要注意你的回调地址,

这里的回调地址可以填写多个回调地址,是授权登录成功后可以跳转的地址,如果申请登录时,设置的跳转成功的url不是一个已经注册过的回调地址,会包100010的错误.

&nbsp; &nbsp; 目前所做的开发流程:

&nbsp; &nbsp; (1)在网站上设置QQ登录的图标,点击图标,触发一个get请求 get请求相应的参数设置参见:[qq互联api](http://wiki.connect.qq.com/%E4%BD%BF%E7%94%A8authorization_code%E8%8E%B7%E5%8F%96access_token)

&nbsp; &nbsp; (2)get请求的发送应该是伴随着页面的跳转,跳转相应的页面,然后登录自己QQ

&nbsp; &nbsp; (3)如果正常登录之后,会回调一个url,回调的url是get请求参数的url

自己根据网上的demo已经搭建了一个简单的登录平台,总结一下自己走过的坑:

(1)idea开发中没有正确的把包导入

(2)servlet的api的mvn包导入错误

(3)回调地址没有写对,如果想要回调,一定要要把回调的地址写全(不要加请求参数,但是路径一定要是全的

后来有经过查阅一下资料,发现这种授权模式是授权码的授权模式:oatuth的部分可以参见:&nbsp;[http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html](http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html)&nbsp;

oauth授权模式可以更方便的保护密码,实现资源的限制访问.

&nbsp; &nbsp; &nbsp;

&nbsp; &nbsp;&nbsp;